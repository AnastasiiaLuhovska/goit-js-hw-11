{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport const getData = (name) => {\n  return axios.get(`https://pixabay.com/api/`, { params: {\n    key: '49325952-cafcda966d997e584839964e4',\n    q: name,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n}})\n}\n\n","import * as basicLightbox from 'basiclightbox';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { refs } from '../main.js';\n\nconst createCardHtml = ({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) =>{\n\n  const arrayOfTags = tags.split(',')\n  const filteredTags = arrayOfTags.filter((tag, index, array)=> index === array.indexOf(tag)).join(',')\n\n  return `<li>\n      <a class =\"link\" href=\"${largeImageURL}\">\n          <img class=\"image\" src = \"${webformatURL}\" alt=\"${filteredTags}\"/>\n          <div class= \"wrapper\">\n              <div class =\"container\">\n                  <p>Likes</p>\n                  <p class=\"numbers\">${likes}</p>\n              </div>\n              <div class =\"container\">\n                  <p>Views</p>\n                  <p class=\"numbers\">${views}</p>\n              </div>\n               <div class =\"container\">\n                  <p>Comments</p>\n                  <p class=\"numbers\">${comments}</p>\n              </div>\n              <div class =\"container\">\n                  <p>Downloads</p>\n                  <p class=\"numbers\">${downloads}</p>\n              </div>\n          </div>\n      </a>\n</li>`\n}\n\nexport const instance = basicLightbox.create(`<span class=\"loader\"></span>`)\n\n\nexport const renderCards = (response)=>{\n  const cardsMarkup = response.data.hits.map(obj => createCardHtml(obj)).join('')\n  refs.gallery.innerHTML = cardsMarkup\n  const lightbox = new SimpleLightbox('.link', {captionsData: 'alt'});\n  lightbox.refresh();\n}","import { getData } from './js/pixabay-api.js';\nimport {  instance } from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport {renderCards} from \"./js/render-functions.js\"\n\n\n\nexport const refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader')\n}\n\n\nconst handleSubmit = (event) =>{\n  event.preventDefault()\n\n  const inputValue = event.target.elements['search-text'].value\n  if (!inputValue.trim()) return\n\n  event.target.reset()\n  instance.show()\n\n  getData(inputValue)\n    .then(response => {\n      if(response.data.hits.length === 0){\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n\n      renderCards(response)\n\n    })\n    .catch(error => console.log(error.message))\n    .finally(instance.close())\n}\n\nrefs.form.addEventListener('submit', handleSubmit)\n\nrefs.loader.classList.add('hidden')"],"names":["getData","name","axios","createCardHtml","webformatURL","largeImageURL","tags","likes","views","comments","downloads","filteredTags","tag","index","array","instance","basicLightbox.create","renderCards","response","cardsMarkup","obj","refs","SimpleLightbox","handleSubmit","event","inputValue","iziToast","error"],"mappings":"2wBAEO,MAAMA,EAAWC,GACfC,EAAM,IAAI,2BAA4B,CAAE,OAAQ,CACrD,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,CAAC,ECJIE,EAAiB,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAK,CAGhG,MAAMC,EADcL,EAAK,MAAM,GAAG,EACD,OAAO,CAACM,EAAKC,EAAOC,IAASD,IAAUC,EAAM,QAAQF,CAAG,CAAC,EAAE,KAAK,GAAG,EAEpG,MAAO;AAAA,+BACsBP,CAAa;AAAA,sCACND,CAAY,UAAUO,CAAY;AAAA;AAAA;AAAA;AAAA,uCAIjCJ,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,MAKhD,EAEaK,EAAWC,EAAAA,OAAqB,8BAA8B,EAG9DC,EAAeC,GAAW,CACrC,MAAMC,EAAcD,EAAS,KAAK,KAAK,IAAIE,GAAOjB,EAAeiB,CAAG,CAAC,EAAE,KAAK,EAAE,EAC9EC,EAAK,QAAQ,UAAYF,EACR,IAAIG,EAAe,QAAS,CAAC,aAAc,KAAK,CAAC,EACzD,QAAO,CAClB,ECpCaD,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAGME,EAAgBC,GAAS,CAC7BA,EAAM,eAAgB,EAEtB,MAAMC,EAAaD,EAAM,OAAO,SAAS,aAAa,EAAE,MACnDC,EAAW,KAAI,IAEpBD,EAAM,OAAO,MAAO,EACpBT,EAAS,KAAM,EAEff,EAAQyB,CAAU,EACf,KAAKP,GAAY,CACbA,EAAS,KAAK,KAAK,SAAW,GAC/BQ,EAAS,MAAM,CACb,QAAS,0EACnB,CAAS,EAGHT,EAAYC,CAAQ,CAE1B,CAAK,EACA,MAAMS,GAAS,QAAQ,IAAIA,EAAM,OAAO,CAAC,EACzC,QAAQZ,EAAS,OAAO,EAC7B,EAEAM,EAAK,KAAK,iBAAiB,SAAUE,CAAY,EAEjDF,EAAK,OAAO,UAAU,IAAI,QAAQ"}