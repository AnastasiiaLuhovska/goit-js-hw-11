{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport const getData = (name) => {\n  return axios.get(`https://pixabay.com/api/`, { params: {\n    key: '49325952-cafcda966d997e584839964e4',\n    q: name,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n}})\n}\n\n","import * as basicLightbox from 'basiclightbox';\n\nexport const createCardHtml = ({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) =>{\n\n  const arrayOfTags = tags.split(',')\n  const filteredTags = arrayOfTags.filter((tag, index, array)=> index === array.indexOf(tag))\n\n  return `<li>\n      <a class =\"link\" href=\"${largeImageURL}\">\n          <img class=\"image\" src = \"${webformatURL}\" alt=\"${filteredTags}\"/>\n          <div class= \"wrapper\">\n              <div class =\"container\">\n                  <p>Likes</p>\n                  <p class=\"numbers\">${likes}</p>\n              </div>\n              <div class =\"container\">\n                  <p>Views</p>\n                  <p class=\"numbers\">${views}</p>\n              </div>\n               <div class =\"container\">\n                  <p>Comments</p>\n                  <p class=\"numbers\">${comments}</p>\n              </div>\n              <div class =\"container\">\n                  <p>Downloads</p>\n                  <p class=\"numbers\">${downloads}</p>\n              </div>\n          </div>\n      </a>\n</li>`\n}\n\nexport const instance = basicLightbox.create(`<span class=\"loader\"></span>`)\n\n","import { getData } from './js/pixabay-api.js';\nimport { createCardHtml, instance } from './js/render-functions.js';\nimport iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\n\n\nconst refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery')\n}\n\n\nconst handleSubmit = (event) =>{\n  event.preventDefault()\n\n  const inputValue = event.target.elements['search-text'].value\n  if (!inputValue.trim()) return\n\n  event.target.reset()\n  instance.show()\n\n  getData(inputValue)\n    .then(response => {\n      if(response.data.hits.length === 0){\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n\n     const cardsMarkup = response.data.hits.map(obj => createCardHtml(obj)).join('')\n      refs.gallery.innerHTML = cardsMarkup\n      new SimpleLightbox('.link', {captionsData: 'alt'});\n    })\n    .catch(error => console.log(error.message))\n    .finally(instance.close())\n}\n\nrefs.form.addEventListener('submit', handleSubmit)\n\n"],"names":["getData","name","axios","createCardHtml","webformatURL","largeImageURL","tags","likes","views","comments","downloads","filteredTags","tag","index","array","instance","basicLightbox.create","refs","handleSubmit","event","inputValue","response","iziToast","cardsMarkup","obj","SimpleLightbox","error"],"mappings":"2wBAEO,MAAMA,EAAWC,GACfC,EAAM,IAAI,2BAA4B,CAAE,OAAQ,CACrD,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,CAAC,ECPWE,EAAiB,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAK,CAGvG,MAAMC,EADcL,EAAK,MAAM,GAAG,EACD,OAAO,CAACM,EAAKC,EAAOC,IAASD,IAAUC,EAAM,QAAQF,CAAG,CAAC,EAE1F,MAAO;AAAA,+BACsBP,CAAa;AAAA,sCACND,CAAY,UAAUO,CAAY;AAAA;AAAA;AAAA;AAAA,uCAIjCJ,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,MAKhD,EAEaK,EAAWC,EAAAA,OAAqB,8BAA8B,EC1BrEC,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,CAC5C,EAGMC,EAAgBC,GAAS,CAC7BA,EAAM,eAAgB,EAEtB,MAAMC,EAAaD,EAAM,OAAO,SAAS,aAAa,EAAE,MACnDC,EAAW,KAAI,IAEpBD,EAAM,OAAO,MAAO,EACpBJ,EAAS,KAAM,EAEff,EAAQoB,CAAU,EACf,KAAKC,GAAY,CACbA,EAAS,KAAK,KAAK,SAAW,GAC/BC,EAAS,MAAM,CACb,QAAS,0EACnB,CAAS,EAGJ,MAAMC,EAAcF,EAAS,KAAK,KAAK,IAAIG,GAAOrB,EAAeqB,CAAG,CAAC,EAAE,KAAK,EAAE,EAC7EP,EAAK,QAAQ,UAAYM,EACzB,IAAIE,EAAe,QAAS,CAAC,aAAc,KAAK,CAAC,CACvD,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,EAAM,OAAO,CAAC,EACzC,QAAQX,EAAS,OAAO,EAC7B,EAEAE,EAAK,KAAK,iBAAiB,SAAUC,CAAY"}